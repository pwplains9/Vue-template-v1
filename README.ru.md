# Vue 3 Шаблон

Современный шаблон Vue 3, созданный с использованием Vite, включающий комплексный набор инструментов и лучших практик для эффективной разработки на Vue.

## Особенности

- **Vue 3** с Composition API и синтаксисом `<script setup>`
- **Vite** для молниеносной разработки и оптимизированных сборок
- **Pinia** для управления состоянием
- **Vue Router** для навигации
- **SCSS** с глобальными переменными и миксинами
- **ESLint и StyleLint** для контроля качества кода
- **Prettier** для единообразного форматирования кода
- **Система SVG иконок** для оптимизированного использования иконок
- **Утилиты адаптивного дизайна** с определением типа устройства
- **Глобальная система всплывающих окон** для управления модальными окнами
- **Инструменты мониторинга производительности** для разработки
- **SEO оптимизация** с управлением мета-тегами

## Начало работы

### Требования

- Node.js (v14+)
- npm или yarn

### Установка

```bash
# Клонировать репозиторий
git clone <url-репозитория>

# Перейти в директорию проекта
cd Vue-template-v1

# Установить зависимости
npm install
# или
yarn install
```

### Разработка

```bash
# Запустить сервер разработки
npm run start
# или
yarn start
```

Это запустит сервер разработки по адресу `http://localhost:3000`.

### Сборка для продакшена

```bash
# Собрать для продакшена
npm run build
# или
yarn build
```

Собранные файлы будут находиться в директории `dist`.

### Предпросмотр продакшен-сборки

```bash
# Предпросмотр продакшен-сборки
npm run preview
# или
yarn preview
```

## Доступные команды

В этом шаблоне включены несколько npm-скриптов для помощи в разработке, сборке и контроле качества кода:

### Команды разработки

```bash
# Запуск сервера разработки
npm run start
# или
yarn start
```

Это запускает сервер разработки Vite с горячей заменой модулей.

### Команды сборки

```bash
# Сборка для продакшена
npm run build
# или
yarn build
```

Это собирает приложение для продакшена с оптимизациями для производительности.

```bash
# Предпросмотр продакшен-сборки
npm run preview
# или
yarn preview
```

Это локально обслуживает продакшен-сборку для предпросмотра.

### Команды линтинга и форматирования

```bash
# Запуск ESLint для JavaScript и Vue файлов
npm run lint:js
# или
yarn lint:js
```

Это проверяет и исправляет JavaScript и Vue файлы в соответствии с конфигурацией ESLint.

```bash
# Запуск StyleLint для CSS и SCSS файлов
npm run lint:styles
# или
yarn lint:styles
```

Это проверяет и исправляет CSS и SCSS файлы в соответствии с конфигурацией StyleLint.

```bash
# Запуск Prettier для всех поддерживаемых файлов
npm run lint:prettier
# или
yarn lint:prettier
```

Это форматирует JavaScript, SCSS и Vue файлы с помощью Prettier.

```bash
# Запуск всех линтеров и форматтеров
npm run lint
# или
yarn lint
```

Это запускает скрипт `lint.js`, который последовательно выполняет все инструменты линтинга и форматирования.

## Структура проекта

```
src/
├── assets/          # Статические ресурсы, такие как изображения и иконки
├── components/      # Многоразовые Vue компоненты
│   ├── UI/          # UI компоненты (кнопки, всплывающие окна, SvgIcon и т.д.)
│   └── Header/      # Компоненты заголовка
├── composables/     # Многоразовые функции композиции
│   └── usePopup.js  # Composable для управления всплывающими окнами
├── icons/           # SVG иконки
├── layouts/         # Компоненты макетов
├── pages/           # Компоненты страниц
│   ├── Home/        # Домашняя страница
│   └── Article/     # Страница статьи
├── services/        # API сервисы и внешние интеграции
├── stores/          # Хранилища Pinia для управления состоянием
├── styles/          # Глобальные стили, переменные и миксины
├── utils/           # Утилитарные функции
│   ├── helpers.js           # Общие вспомогательные функции
│   ├── lazyLoader.js        # Утилиты для ленивой загрузки
│   ├── performanceMonitor.js # Инструменты мониторинга производительности
│   ├── vhFix.js             # Исправление высоты viewport для мобильных устройств
│   └── viewportWatcher.js   # Утилиты адаптивного дизайна
├── App.vue          # Корневой компонент
├── main.js          # Точка входа в приложение
└── TransitionView.vue # Компонент перехода между страницами
```

## Использование компонентов

### SVG иконки

Шаблон включает систему SVG иконок с использованием `vite-plugin-svg-icons`:

```vue
<template>
  <SvgIcon name="icon-name" />
</template>

<script setup>
import SvgIcon from '@/components/UI/SvgIcon.vue';
</script>
```

Поместите ваши SVG иконки в директорию `src/icons`.

### Глобальная система всплывающих окон

Шаблон включает мощную систему управления всплывающими окнами:

```vue
<template>
  <!-- Определение всплывающего окна -->
  <GlobalPopup id="my-popup" title="Моё всплывающее окно">
    <p>Это содержимое моего всплывающего окна</p>
    
    <template #footer>
      <button @click="closePopup">Закрыть</button>
    </template>
  </GlobalPopup>
  
  <!-- Кнопка для открытия всплывающего окна -->
  <button @click="openPopup">Открыть всплывающее окно</button>
</template>

<script setup>
import GlobalPopup from '@/components/UI/GlobalPopup.vue';
import { usePopup } from '@/composables/usePopup';

const myPopup = usePopup('my-popup');

const openPopup = () => {
  myPopup.open({
    // Опциональные свойства для передачи во всплывающее окно
    someData: 'Привет, мир'
  });
};

const closePopup = () => {
  myPopup.close();
};
</script>
```

Для управления несколькими всплывающими окнами вы можете использовать `usePopupManager`:

```js
import { usePopupManager } from '@/composables/usePopup';

const popupManager = usePopupManager();

// Закрыть все открытые всплывающие окна
popupManager.closeAll();

// Проверить, открыто ли какое-либо всплывающее окно
const hasOpenPopups = popupManager.isAnyOpen;
```

### Адаптивный дизайн

Шаблон включает утилиты для определения типа устройства:

```vue
<script setup>
import { useViewport } from '@/utils/viewportWatcher';

// Время задержки по умолчанию - 250мс
const { width, height, isMobile, isTablet, isDesktop } = useViewport();

// Или с пользовательскими настройками
const viewport = useViewport({
  debounceTime: 200
});
</script>

<template>
  <div>
    <div v-if="isMobile">Мобильный контент</div>
    <div v-else-if="isTablet">Планшетный контент</div>
    <div v-else>Десктопный контент</div>
  </div>
</template>
```

Наблюдатель за viewport использует следующие контрольные точки:
- Мобильный: < 768px
- Планшет: 768px - 1024px
- Десктоп: > 1024px

## Мониторинг производительности

Шаблон включает инструменты мониторинга производительности в режиме разработки:

```vue
<template>
  <!-- Добавьте мониторинг производительности к компонентам -->
  <div v-perf="'my-component'">
    <!-- Содержимое компонента -->
  </div>
</template>
```

Монитор производительности предоставляет:
- Отслеживание загрузки ресурсов
- Мониторинг использования памяти
- Метрики производительности навигации
- Отслеживание времени рендеринга компонентов

Эти инструменты автоматически включаются в режиме разработки и доступны в консоли браузера.

## SEO оптимизация

Шаблон включает SEO оптимизацию с управлением мета-тегами:

```js
// В конфигурации маршрутов
{
  path: '/article/',
  name: 'Article',
  component: Article,
  meta: {
    title: 'Заголовок статьи',
    description: 'Описание статьи',
    keyWords: 'статья, ключевые слова'
  }
}
```

Роутер автоматически обновляет заголовок документа и мета-теги на основе мета-информации маршрута.

## Линтинг и форматирование

Этот проект включает инструменты для линтинга и форматирования:

### ESLint для JavaScript и Vue
- Настроен для Vue 3 с рекомендуемыми правилами
- Запустите `npm run lint:js` для проверки и исправления файлов JavaScript и Vue

### StyleLint для CSS/SCSS
- Настроен для SCSS со стандартными правилами
- Запустите `npm run lint:styles` для проверки и исправления проблем со стилями

### Prettier
- Запустите `npm run lint:prettier` для форматирования всех файлов

### Быстрые команды исправления
- Запустите `npm run lint` для запуска всех линтеров и форматтеров одновременно
- Для проблем с отступами SCSS запустите `node fix-scss-indentation.js`

### Интеграция с VS Code
- Автоматическое исправление включено при сохранении в VS Code
- Убедитесь, что установлены рекомендуемые расширения:
  - ESLint
  - Stylelint
  - Prettier
  - Volar (Vue Language Features)

## Настройка линтинга

Если вам нужно настроить линтинг в новом проекте, запустите:

```bash
node setup-linting.js
```

Это установит все необходимые зависимости и проверит файлы конфигурации.

## Лицензия

[MIT](LICENSE) 